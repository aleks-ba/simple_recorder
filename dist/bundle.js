var Recorder =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__recorder__ = __webpack_require__(/*! ./recorder */ 1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__recorder___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__recorder__);\n\nvar getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\nclass MyRecorder {\n\n    constructor() {\n        this.record = event => {\n            this.currentTrackElement = event.target.closest('.track-list--item');\n            if (typeof this.baseTrack !== 'undefined') {\n                this.baseTrack.pause();\n                this.baseTrack.currentTime = 0;\n                this.baseTrack.play();\n                this.baseTrack.addEventListener('playing', () => {\n                    console.log('clear rec');\n                    this.rec.clear();\n                }, false);\n            }\n            getUserMedia.call(navigator, { audio: true }, localMediaStream => {\n                this.mediaStream = localMediaStream;\n\n                // create a stream source to pass to Recorder.js\n                var mediaStreamSource = this.context.createMediaStreamSource(localMediaStream);\n\n                // create new instance of Recorder.js using the mediaStreamSource\n                this.rec = new __WEBPACK_IMPORTED_MODULE_0__recorder___default.a(mediaStreamSource, {\n                    // pass the path to recorderWorker.js file here\n                    workerPath: '/bower_components/Recorderjs/recorderWorker.js'\n                });\n\n                // start recording\n                this.rec.record();\n            }, function (err) {\n                console.log('Browser not supported');\n            });\n        };\n\n        this.stop = () => {\n            // stop the media stream\n            // stop Recorder.js\n            this.rec.stop();\n\n            this.rec.exportWAV(this._exportToWavCallback);\n        };\n\n        this._exportToWavCallback = blob => {\n            this.rec.clear();\n\n            if (this.currentTrackElement.isRecorded) {\n                return;\n            }\n            const url = window.URL.createObjectURL(blob);\n            const audioHTML = document.createElement('audio');\n            audioHTML.src = url;\n            audioHTML.setAttribute('controls', true);\n            audioHTML.setAttribute('loop', true);\n\n            this.audioTracks.push(audioHTML);\n            this.baseTrack = this.audioTracks[0];\n\n            this.currentTrackElement.isRecorded = true;\n\n            this.currentTrackElement.appendChild(audioHTML);\n        };\n\n        this.playAllTracks = () => {\n            this.audioTracks.forEach(audio => {\n                audio.currentTime = 0;\n                audio.play();\n            });\n        };\n\n        this.addNewTrack = () => {\n            const template = `<div onclick=\"Recorder.default.record(event)\" class=\"button-control button-control-rec\"><span></span></div>\n             <div onclick=\"Recorder.default.stop()\" class=\"button-control button-control-stop\"><span></span></div>\n            `;\n\n            var trackListItemHTML = document.createElement('div');\n            trackListItemHTML.classList.add('track-list--item');\n            trackListItemHTML.innerHTML = template;\n            document.querySelector('.track-list').appendChild(trackListItemHTML);\n        };\n\n        let krakoz = 2;\n        this.mediaStream = null;\n        this.rec = null;\n        const Context = window.AudioContext || window.webkitAudioContext;\n        this.context = new Context();\n        this.audioTracks = [];\n        this.currentTrackElement = null;\n    }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new MyRecorder());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaW5kZXguanM/MWZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVjb3JkZXIgZnJvbSAnLi9yZWNvcmRlcic7XHJcbnZhciBnZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYTtcclxuY2xhc3MgTXlSZWNvcmRlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgbGV0IGtyYWtveiA9IDI7XHJcbiAgICAgICAgdGhpcy5tZWRpYVN0cmVhbSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZWMgPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IENvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbmV3IENvbnRleHQoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvVHJhY2tzID0gW107XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VHJhY2tFbGVtZW50ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZWNvcmQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRUcmFja0VsZW1lbnQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLnRyYWNrLWxpc3QtLWl0ZW0nKTtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuYmFzZVRyYWNrICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VUcmFjay5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VUcmFjay5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuYmFzZVRyYWNrLnBsYXkoKTtcclxuICAgICAgICAgICAgdGhpcy5iYXNlVHJhY2suYWRkRXZlbnRMaXN0ZW5lcigncGxheWluZycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGVhciByZWMnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB9XHJcblx0ICAgIGdldFVzZXJNZWRpYS5jYWxsKG5hdmlnYXRvcix7YXVkaW86IHRydWV9LCAobG9jYWxNZWRpYVN0cmVhbSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1lZGlhU3RyZWFtID0gbG9jYWxNZWRpYVN0cmVhbTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhIHN0cmVhbSBzb3VyY2UgdG8gcGFzcyB0byBSZWNvcmRlci5qc1xyXG4gICAgICAgICAgICB2YXIgbWVkaWFTdHJlYW1Tb3VyY2UgPSB0aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobG9jYWxNZWRpYVN0cmVhbSk7XHJcblxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgbmV3IGluc3RhbmNlIG9mIFJlY29yZGVyLmpzIHVzaW5nIHRoZSBtZWRpYVN0cmVhbVNvdXJjZVxyXG4gICAgICAgICAgICB0aGlzLnJlYyA9IG5ldyBSZWNvcmRlcihtZWRpYVN0cmVhbVNvdXJjZSwge1xyXG4gICAgICAgICAgICAgICAgLy8gcGFzcyB0aGUgcGF0aCB0byByZWNvcmRlcldvcmtlci5qcyBmaWxlIGhlcmVcclxuICAgICAgICAgICAgICAgIHdvcmtlclBhdGg6ICcvYm93ZXJfY29tcG9uZW50cy9SZWNvcmRlcmpzL3JlY29yZGVyV29ya2VyLmpzJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHN0YXJ0IHJlY29yZGluZ1xyXG4gICAgICAgICAgICB0aGlzLnJlYy5yZWNvcmQoKTtcclxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdCcm93c2VyIG5vdCBzdXBwb3J0ZWQnKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgc3RvcCA9ICgpID0+IHtcclxuICAgICAgICAvLyBzdG9wIHRoZSBtZWRpYSBzdHJlYW1cclxuICAgICAgICAvLyBzdG9wIFJlY29yZGVyLmpzXHJcbiAgICAgICAgdGhpcy5yZWMuc3RvcCgpO1xyXG5cclxuICAgICAgICB0aGlzLnJlYy5leHBvcnRXQVYodGhpcy5fZXhwb3J0VG9XYXZDYWxsYmFjayk7XHJcbiAgICB9O1xyXG5cclxuICAgIF9leHBvcnRUb1dhdkNhbGxiYWNrID0gKGJsb2IpID0+IHtcclxuICAgICAgICB0aGlzLnJlYy5jbGVhcigpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VHJhY2tFbGVtZW50LmlzUmVjb3JkZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBjb25zdCBhdWRpb0hUTUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xyXG4gICAgICAgIGF1ZGlvSFRNTC5zcmMgPSB1cmw7XHJcbiAgICAgICAgYXVkaW9IVE1MLnNldEF0dHJpYnV0ZSgnY29udHJvbHMnLCB0cnVlKTtcclxuICAgICAgICBhdWRpb0hUTUwuc2V0QXR0cmlidXRlKCdsb29wJywgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuYXVkaW9UcmFja3MucHVzaChhdWRpb0hUTUwpO1xyXG4gICAgICAgIHRoaXMuYmFzZVRyYWNrID0gdGhpcy5hdWRpb1RyYWNrc1swXTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50VHJhY2tFbGVtZW50LmlzUmVjb3JkZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRUcmFja0VsZW1lbnQuYXBwZW5kQ2hpbGQoYXVkaW9IVE1MKTtcclxuICAgIH07XHJcblxyXG4gICAgcGxheUFsbFRyYWNrcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvVHJhY2tzLmZvckVhY2goKGF1ZGlvKSA9PiB7XHJcbiAgICAgICAgICAgIGF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBhZGROZXdUcmFjayA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9XHJcbiAgICAgICAgICAgIGA8ZGl2IG9uY2xpY2s9XCJSZWNvcmRlci5kZWZhdWx0LnJlY29yZChldmVudClcIiBjbGFzcz1cImJ1dHRvbi1jb250cm9sIGJ1dHRvbi1jb250cm9sLXJlY1wiPjxzcGFuPjwvc3Bhbj48L2Rpdj5cclxuICAgICAgICAgICAgIDxkaXYgb25jbGljaz1cIlJlY29yZGVyLmRlZmF1bHQuc3RvcCgpXCIgY2xhc3M9XCJidXR0b24tY29udHJvbCBidXR0b24tY29udHJvbC1zdG9wXCI+PHNwYW4+PC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG5cclxuICAgICAgICB2YXIgdHJhY2tMaXN0SXRlbUhUTUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0cmFja0xpc3RJdGVtSFRNTC5jbGFzc0xpc3QuYWRkKCd0cmFjay1saXN0LS1pdGVtJyk7XHJcbiAgICAgICAgdHJhY2tMaXN0SXRlbUhUTUwuaW5uZXJIVE1MID0gdGVtcGxhdGU7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYWNrLWxpc3QnKS5hcHBlbmRDaGlsZCh0cmFja0xpc3RJdGVtSFRNTCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgTXlSZWNvcmRlcigpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvaW5kZXguanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2Q0E7QUF5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvQ0E7QUFpREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuRUE7QUFxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMUVBO0FBNEVBOztBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQTBGQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!*************************!*\
  !*** ./src/recorder.js ***!
  \*************************/
/*! no static exports found */
/*! exports used: default */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {var require;var require;(function (f) {\n    if (true) {\n        module.exports = f();\n    } else if (typeof define === \"function\" && define.amd) {\n        define([], f);\n    } else {\n        var g;if (typeof window !== \"undefined\") {\n            g = window;\n        } else if (typeof global !== \"undefined\") {\n            g = global;\n        } else if (typeof self !== \"undefined\") {\n            g = self;\n        } else {\n            g = this;\n        }g.Recorder = f();\n    }\n})(function () {\n    var define, module, exports;return function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof require == \"function\" && require;if (!u && a) return require(o, !0);if (i) return i(o, !0);var f = new Error(\"Cannot find module '\" + o + \"'\");throw f.code = \"MODULE_NOT_FOUND\", f;\n                }var l = n[o] = { exports: {} };t[o][0].call(l.exports, function (e) {\n                    var n = t[o][1][e];return s(n ? n : e);\n                }, l, l.exports, e, t, n, r);\n            }return n[o].exports;\n        }var i = typeof require == \"function\" && require;for (var o = 0; o < r.length; o++) s(r[o]);return s;\n    }({ 1: [function (require, module, exports) {\n            \"use strict\";\n\n            module.exports = require(\"./recorder\").Recorder;\n        }, { \"./recorder\": 2 }], 2: [function (require, module, exports) {\n            'use strict';\n\n            var _createClass = function () {\n                function defineProperties(target, props) {\n                    for (var i = 0; i < props.length; i++) {\n                        var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n                    }\n                }return function (Constructor, protoProps, staticProps) {\n                    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n                };\n            }();\n\n            Object.defineProperty(exports, \"__esModule\", {\n                value: true\n            });\n            exports.Recorder = undefined;\n\n            var _inlineWorker = require('inline-worker');\n\n            var _inlineWorker2 = _interopRequireDefault(_inlineWorker);\n\n            function _interopRequireDefault(obj) {\n                return obj && obj.__esModule ? obj : { default: obj };\n            }\n\n            function _classCallCheck(instance, Constructor) {\n                if (!(instance instanceof Constructor)) {\n                    throw new TypeError(\"Cannot call a class as a function\");\n                }\n            }\n\n            var Recorder = exports.Recorder = function () {\n                function Recorder(source, cfg) {\n                    var _this = this;\n\n                    _classCallCheck(this, Recorder);\n\n                    this.config = {\n                        bufferLen: 4096,\n                        numChannels: 2,\n                        mimeType: 'audio/wav'\n                    };\n                    this.recording = false;\n                    this.callbacks = {\n                        getBuffer: [],\n                        exportWAV: []\n                    };\n\n                    Object.assign(this.config, cfg);\n                    this.context = source.context;\n                    this.node = (this.context.createScriptProcessor || this.context.createJavaScriptNode).call(this.context, this.config.bufferLen, this.config.numChannels, this.config.numChannels);\n\n                    this.node.onaudioprocess = function (e) {\n                        if (!_this.recording) return;\n\n                        var buffer = [];\n                        for (var channel = 0; channel < _this.config.numChannels; channel++) {\n                            buffer.push(e.inputBuffer.getChannelData(channel));\n                        }\n                        _this.worker.postMessage({\n                            command: 'record',\n                            buffer: buffer\n                        });\n                    };\n\n                    source.connect(this.node);\n                    this.node.connect(this.context.destination); //this should not be necessary\n\n                    var self = {};\n                    this.worker = new _inlineWorker2.default(function () {\n                        var recLength = 0,\n                            recBuffers = [],\n                            sampleRate = undefined,\n                            numChannels = undefined;\n\n                        self.onmessage = function (e) {\n                            switch (e.data.command) {\n                                case 'init':\n                                    init(e.data.config);\n                                    break;\n                                case 'record':\n                                    record(e.data.buffer);\n                                    break;\n                                case 'exportWAV':\n                                    exportWAV(e.data.type);\n                                    break;\n                                case 'getBuffer':\n                                    getBuffer();\n                                    break;\n                                case 'clear':\n                                    clear();\n                                    break;\n                            }\n                        };\n\n                        function init(config) {\n                            sampleRate = config.sampleRate;\n                            numChannels = config.numChannels;\n                            initBuffers();\n                        }\n\n                        function record(inputBuffer) {\n                            for (var channel = 0; channel < numChannels; channel++) {\n                                recBuffers[channel].push(inputBuffer[channel]);\n                            }\n                            recLength += inputBuffer[0].length;\n                        }\n\n                        function exportWAV(type) {\n                            var buffers = [];\n                            for (var channel = 0; channel < numChannels; channel++) {\n                                buffers.push(mergeBuffers(recBuffers[channel], recLength));\n                            }\n                            var interleaved = undefined;\n                            if (numChannels === 2) {\n                                interleaved = interleave(buffers[0], buffers[1]);\n                            } else {\n                                interleaved = buffers[0];\n                            }\n                            var dataview = encodeWAV(interleaved);\n                            var audioBlob = new Blob([dataview], { type: type });\n\n                            self.postMessage({ command: 'exportWAV', data: audioBlob });\n                        }\n\n                        function getBuffer() {\n                            var buffers = [];\n                            for (var channel = 0; channel < numChannels; channel++) {\n                                buffers.push(mergeBuffers(recBuffers[channel], recLength));\n                            }\n                            self.postMessage({ command: 'getBuffer', data: buffers });\n                        }\n\n                        function clear() {\n                            recLength = 0;\n                            recBuffers = [];\n                            initBuffers();\n                        }\n\n                        function initBuffers() {\n                            for (var channel = 0; channel < numChannels; channel++) {\n                                recBuffers[channel] = [];\n                            }\n                        }\n\n                        function mergeBuffers(recBuffers, recLength) {\n                            var result = new Float32Array(recLength);\n                            var offset = 0;\n                            for (var i = 0; i < recBuffers.length; i++) {\n                                result.set(recBuffers[i], offset);\n                                offset += recBuffers[i].length;\n                            }\n                            return result;\n                        }\n\n                        function interleave(inputL, inputR) {\n                            var length = inputL.length + inputR.length;\n                            var result = new Float32Array(length);\n\n                            var index = 0,\n                                inputIndex = 0;\n\n                            while (index < length) {\n                                result[index++] = inputL[inputIndex];\n                                result[index++] = inputR[inputIndex];\n                                inputIndex++;\n                            }\n                            return result;\n                        }\n\n                        function floatTo16BitPCM(output, offset, input) {\n                            for (var i = 0; i < input.length; i++, offset += 2) {\n                                var s = Math.max(-1, Math.min(1, input[i]));\n                                output.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7FFF, true);\n                            }\n                        }\n\n                        function writeString(view, offset, string) {\n                            for (var i = 0; i < string.length; i++) {\n                                view.setUint8(offset + i, string.charCodeAt(i));\n                            }\n                        }\n\n                        function encodeWAV(samples) {\n                            var buffer = new ArrayBuffer(44 + samples.length * 2);\n                            var view = new DataView(buffer);\n\n                            /* RIFF identifier */\n                            writeString(view, 0, 'RIFF');\n                            /* RIFF chunk length */\n                            view.setUint32(4, 36 + samples.length * 2, true);\n                            /* RIFF type */\n                            writeString(view, 8, 'WAVE');\n                            /* format chunk identifier */\n                            writeString(view, 12, 'fmt ');\n                            /* format chunk length */\n                            view.setUint32(16, 16, true);\n                            /* sample format (raw) */\n                            view.setUint16(20, 1, true);\n                            /* channel count */\n                            view.setUint16(22, numChannels, true);\n                            /* sample rate */\n                            view.setUint32(24, sampleRate, true);\n                            /* byte rate (sample rate * block align) */\n                            view.setUint32(28, sampleRate * 4, true);\n                            /* block align (channel count * bytes per sample) */\n                            view.setUint16(32, numChannels * 2, true);\n                            /* bits per sample */\n                            view.setUint16(34, 16, true);\n                            /* data chunk identifier */\n                            writeString(view, 36, 'data');\n                            /* data chunk length */\n                            view.setUint32(40, samples.length * 2, true);\n\n                            floatTo16BitPCM(view, 44, samples);\n\n                            return view;\n                        }\n                    }, self);\n\n                    this.worker.postMessage({\n                        command: 'init',\n                        config: {\n                            sampleRate: this.context.sampleRate,\n                            numChannels: this.config.numChannels\n                        }\n                    });\n\n                    this.worker.onmessage = function (e) {\n                        var cb = _this.callbacks[e.data.command].pop();\n                        if (typeof cb == 'function') {\n                            cb(e.data.data);\n                        }\n                    };\n                }\n\n                _createClass(Recorder, [{\n                    key: 'record',\n                    value: function record() {\n                        this.recording = true;\n                    }\n                }, {\n                    key: 'stop',\n                    value: function stop() {\n                        this.recording = false;\n                    }\n                }, {\n                    key: 'clear',\n                    value: function clear() {\n                        this.worker.postMessage({ command: 'clear' });\n                    }\n                }, {\n                    key: 'getBuffer',\n                    value: function getBuffer(cb) {\n                        cb = cb || this.config.callback;\n                        if (!cb) throw new Error('Callback not set');\n\n                        this.callbacks.getBuffer.push(cb);\n\n                        this.worker.postMessage({ command: 'getBuffer' });\n                    }\n                }, {\n                    key: 'exportWAV',\n                    value: function exportWAV(cb, mimeType) {\n                        mimeType = mimeType || this.config.mimeType;\n                        cb = cb || this.config.callback;\n                        if (!cb) throw new Error('Callback not set');\n\n                        this.callbacks.exportWAV.push(cb);\n\n                        this.worker.postMessage({\n                            command: 'exportWAV',\n                            type: mimeType\n                        });\n                    }\n                }], [{\n                    key: 'forceDownload',\n                    value: function forceDownload(blob, filename) {\n                        var url = (window.URL || window.webkitURL).createObjectURL(blob);\n                        var link = window.document.createElement('a');\n                        link.href = url;\n                        link.download = filename || 'output.wav';\n                        var click = document.createEvent(\"Event\");\n                        click.initEvent(\"click\", true, true);\n                        link.dispatchEvent(click);\n                    }\n                }]);\n\n                return Recorder;\n            }();\n\n            exports.default = Recorder;\n        }, { \"inline-worker\": 3 }], 3: [function (require, module, exports) {\n            \"use strict\";\n\n            module.exports = require(\"./inline-worker\");\n        }, { \"./inline-worker\": 4 }], 4: [function (require, module, exports) {\n            (function (global) {\n                \"use strict\";\n\n                var _createClass = function () {\n                    function defineProperties(target, props) {\n                        for (var key in props) {\n                            var prop = props[key];prop.configurable = true;if (prop.value) prop.writable = true;\n                        }Object.defineProperties(target, props);\n                    }return function (Constructor, protoProps, staticProps) {\n                        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n                    };\n                }();\n\n                var _classCallCheck = function (instance, Constructor) {\n                    if (!(instance instanceof Constructor)) {\n                        throw new TypeError(\"Cannot call a class as a function\");\n                    }\n                };\n\n                var WORKER_ENABLED = !!(global === global.window && global.URL && global.Blob && global.Worker);\n\n                var InlineWorker = function () {\n                    function InlineWorker(func, self) {\n                        var _this = this;\n\n                        _classCallCheck(this, InlineWorker);\n\n                        if (WORKER_ENABLED) {\n                            var functionBody = func.toString().trim().match(/^function\\s*\\w*\\s*\\([\\w\\s,]*\\)\\s*{([\\w\\W]*?)}$/)[1];\n                            var url = global.URL.createObjectURL(new global.Blob([functionBody], { type: \"text/javascript\" }));\n\n                            return new global.Worker(url);\n                        }\n\n                        this.self = self;\n                        this.self.postMessage = function (data) {\n                            setTimeout(function () {\n                                _this.onmessage({ data: data });\n                            }, 0);\n                        };\n\n                        setTimeout(function () {\n                            func.call(self);\n                        }, 0);\n                    }\n\n                    _createClass(InlineWorker, {\n                        postMessage: {\n                            value: function postMessage(data) {\n                                var _this = this;\n\n                                setTimeout(function () {\n                                    _this.self.onmessage({ data: data });\n                                }, 0);\n                            }\n                        }\n                    });\n\n                    return InlineWorker;\n                }();\n\n                module.exports = InlineWorker;\n            }).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n        }, {}] }, {}, [1])(1);\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../node_modules/webpack/buildin/global.js */ 2)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvcmVjb3JkZXIuanM/MGRjZiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5SZWNvcmRlciA9IGYoKX19KShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vcmVjb3JkZXJcIikuUmVjb3JkZXI7XHJcblxyXG59LHtcIi4vcmVjb3JkZXJcIjoyfV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1yZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xyXG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO2lmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3RvcjtcclxuICAgICAgICB9O1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBleHBvcnRzLlJlY29yZGVyID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIHZhciBfaW5saW5lV29ya2VyID0gcmVxdWlyZSgnaW5saW5lLXdvcmtlcicpO1xyXG5cclxuICAgIHZhciBfaW5saW5lV29ya2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lubGluZVdvcmtlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIFJlY29yZGVyID0gZXhwb3J0cy5SZWNvcmRlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gUmVjb3JkZXIoc291cmNlLCBjZmcpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWNvcmRlcik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlckxlbjogNDA5NixcclxuICAgICAgICAgICAgICAgIG51bUNoYW5uZWxzOiAyLFxyXG4gICAgICAgICAgICAgICAgbWltZVR5cGU6ICdhdWRpby93YXYnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICAgICAgZ2V0QnVmZmVyOiBbXSxcclxuICAgICAgICAgICAgICAgIGV4cG9ydFdBVjogW11cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIGNmZyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IHNvdXJjZS5jb250ZXh0O1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUgPSAodGhpcy5jb250ZXh0LmNyZWF0ZVNjcmlwdFByb2Nlc3NvciB8fCB0aGlzLmNvbnRleHQuY3JlYXRlSmF2YVNjcmlwdE5vZGUpLmNhbGwodGhpcy5jb250ZXh0LCB0aGlzLmNvbmZpZy5idWZmZXJMZW4sIHRoaXMuY29uZmlnLm51bUNoYW5uZWxzLCB0aGlzLmNvbmZpZy5udW1DaGFubmVscyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5vZGUub25hdWRpb3Byb2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5yZWNvcmRpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGFubmVsID0gMDsgY2hhbm5lbCA8IF90aGlzLmNvbmZpZy5udW1DaGFubmVsczsgY2hhbm5lbCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnB1c2goZS5pbnB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YShjaGFubmVsKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdyZWNvcmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KHRoaXMubm9kZSk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbik7IC8vdGhpcyBzaG91bGQgbm90IGJlIG5lY2Vzc2FyeVxyXG5cclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB7fTtcclxuICAgICAgICAgICAgdGhpcy53b3JrZXIgPSBuZXcgX2lubGluZVdvcmtlcjIuZGVmYXVsdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVjTGVuZ3RoID0gMCxcclxuICAgICAgICAgICAgICAgICAgICByZWNCdWZmZXJzID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlUmF0ZSA9IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICBudW1DaGFubmVscyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICBzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlLmRhdGEuY29tbWFuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbml0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXQoZS5kYXRhLmNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVjb3JkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZChlLmRhdGEuYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdleHBvcnRXQVYnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0V0FWKGUuZGF0YS50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdnZXRCdWZmZXInOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0QnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xlYXInOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaW5pdChjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBzYW1wbGVSYXRlID0gY29uZmlnLnNhbXBsZVJhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgbnVtQ2hhbm5lbHMgPSBjb25maWcubnVtQ2hhbm5lbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdEJ1ZmZlcnMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZWNvcmQoaW5wdXRCdWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGFubmVsID0gMDsgY2hhbm5lbCA8IG51bUNoYW5uZWxzOyBjaGFubmVsKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjQnVmZmVyc1tjaGFubmVsXS5wdXNoKGlucHV0QnVmZmVyW2NoYW5uZWxdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjTGVuZ3RoICs9IGlucHV0QnVmZmVyWzBdLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBleHBvcnRXQVYodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBudW1DaGFubmVsczsgY2hhbm5lbCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcnMucHVzaChtZXJnZUJ1ZmZlcnMocmVjQnVmZmVyc1tjaGFubmVsXSwgcmVjTGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmxlYXZlZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobnVtQ2hhbm5lbHMgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJsZWF2ZWQgPSBpbnRlcmxlYXZlKGJ1ZmZlcnNbMF0sIGJ1ZmZlcnNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVybGVhdmVkID0gYnVmZmVyc1swXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGF2aWV3ID0gZW5jb2RlV0FWKGludGVybGVhdmVkKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXVkaW9CbG9iID0gbmV3IEJsb2IoW2RhdGF2aWV3XSwgeyB0eXBlOiB0eXBlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgY29tbWFuZDogJ2V4cG9ydFdBVicsIGRhdGE6IGF1ZGlvQmxvYiB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRCdWZmZXIoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGFubmVsID0gMDsgY2hhbm5lbCA8IG51bUNoYW5uZWxzOyBjaGFubmVsKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKG1lcmdlQnVmZmVycyhyZWNCdWZmZXJzW2NoYW5uZWxdLCByZWNMZW5ndGgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7IGNvbW1hbmQ6ICdnZXRCdWZmZXInLCBkYXRhOiBidWZmZXJzIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNsZWFyKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlY0xlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjQnVmZmVycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRCdWZmZXJzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaW5pdEJ1ZmZlcnMoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBudW1DaGFubmVsczsgY2hhbm5lbCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY0J1ZmZlcnNbY2hhbm5lbF0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbWVyZ2VCdWZmZXJzKHJlY0J1ZmZlcnMsIHJlY0xlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgRmxvYXQzMkFycmF5KHJlY0xlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWNCdWZmZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXQocmVjQnVmZmVyc1tpXSwgb2Zmc2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHJlY0J1ZmZlcnNbaV0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGludGVybGVhdmUoaW5wdXRMLCBpbnB1dFIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gaW5wdXRMLmxlbmd0aCArIGlucHV0Ui5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRJbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaW5kZXgrK10gPSBpbnB1dExbaW5wdXRJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpbmRleCsrXSA9IGlucHV0UltpbnB1dEluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZsb2F0VG8xNkJpdFBDTShvdXRwdXQsIG9mZnNldCwgaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrLCBvZmZzZXQgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBpbnB1dFtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuc2V0SW50MTYob2Zmc2V0LCBzIDwgMCA/IHMgKiAweDgwMDAgOiBzICogMHg3RkZGLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gd3JpdGVTdHJpbmcodmlldywgb2Zmc2V0LCBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCArIGksIHN0cmluZy5jaGFyQ29kZUF0KGkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZW5jb2RlV0FWKHNhbXBsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDQ0ICsgc2FtcGxlcy5sZW5ndGggKiAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKiBSSUZGIGlkZW50aWZpZXIgKi9cclxuICAgICAgICAgICAgICAgICAgICB3cml0ZVN0cmluZyh2aWV3LCAwLCAnUklGRicpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIFJJRkYgY2h1bmsgbGVuZ3RoICovXHJcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoNCwgMzYgKyBzYW1wbGVzLmxlbmd0aCAqIDIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIFJJRkYgdHlwZSAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlU3RyaW5nKHZpZXcsIDgsICdXQVZFJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogZm9ybWF0IGNodW5rIGlkZW50aWZpZXIgKi9cclxuICAgICAgICAgICAgICAgICAgICB3cml0ZVN0cmluZyh2aWV3LCAxMiwgJ2ZtdCAnKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiBmb3JtYXQgY2h1bmsgbGVuZ3RoICovXHJcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoMTYsIDE2LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiBzYW1wbGUgZm9ybWF0IChyYXcpICovXHJcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50MTYoMjAsIDEsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIGNoYW5uZWwgY291bnQgKi9cclxuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldFVpbnQxNigyMiwgbnVtQ2hhbm5lbHMsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIHNhbXBsZSByYXRlICovXHJcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoMjQsIHNhbXBsZVJhdGUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIGJ5dGUgcmF0ZSAoc2FtcGxlIHJhdGUgKiBibG9jayBhbGlnbikgKi9cclxuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldFVpbnQzMigyOCwgc2FtcGxlUmF0ZSAqIDQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIGJsb2NrIGFsaWduIChjaGFubmVsIGNvdW50ICogYnl0ZXMgcGVyIHNhbXBsZSkgKi9cclxuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldFVpbnQxNigzMiwgbnVtQ2hhbm5lbHMgKiAyLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiBiaXRzIHBlciBzYW1wbGUgKi9cclxuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldFVpbnQxNigzNCwgMTYsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIGRhdGEgY2h1bmsgaWRlbnRpZmllciAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlU3RyaW5nKHZpZXcsIDM2LCAnZGF0YScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIGRhdGEgY2h1bmsgbGVuZ3RoICovXHJcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoNDAsIHNhbXBsZXMubGVuZ3RoICogMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZsb2F0VG8xNkJpdFBDTSh2aWV3LCA0NCwgc2FtcGxlcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWV3O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBzZWxmKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdpbml0JyxcclxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZVJhdGU6IHRoaXMuY29udGV4dC5zYW1wbGVSYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIG51bUNoYW5uZWxzOiB0aGlzLmNvbmZpZy5udW1DaGFubmVsc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2IgPSBfdGhpcy5jYWxsYmFja3NbZS5kYXRhLmNvbW1hbmRdLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2IoZS5kYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJlY29yZGVyLCBbe1xyXG4gICAgICAgICAgICBrZXk6ICdyZWNvcmQnLFxyXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb3JkKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBrZXk6ICdzdG9wJyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBrZXk6ICdjbGVhcicsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHsgY29tbWFuZDogJ2NsZWFyJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnZ2V0QnVmZmVyJyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJ1ZmZlcihjYikge1xyXG4gICAgICAgICAgICAgICAgY2IgPSBjYiB8fCB0aGlzLmNvbmZpZy5jYWxsYmFjaztcclxuICAgICAgICAgICAgICAgIGlmICghY2IpIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgbm90IHNldCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLmdldEJ1ZmZlci5wdXNoKGNiKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7IGNvbW1hbmQ6ICdnZXRCdWZmZXInIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBrZXk6ICdleHBvcnRXQVYnLFxyXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZXhwb3J0V0FWKGNiLCBtaW1lVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgbWltZVR5cGUgPSBtaW1lVHlwZSB8fCB0aGlzLmNvbmZpZy5taW1lVHlwZTtcclxuICAgICAgICAgICAgICAgIGNiID0gY2IgfHwgdGhpcy5jb25maWcuY2FsbGJhY2s7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNiKSB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIG5vdCBzZXQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5leHBvcnRXQVYucHVzaChjYik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdleHBvcnRXQVYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1pbWVUeXBlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dLCBbe1xyXG4gICAgICAgICAgICBrZXk6ICdmb3JjZURvd25sb2FkJyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZvcmNlRG93bmxvYWQoYmxvYiwgZmlsZW5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSAod2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluayA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gZmlsZW5hbWUgfHwgJ291dHB1dC53YXYnO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNsaWNrID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcclxuICAgICAgICAgICAgICAgIGNsaWNrLmluaXRFdmVudChcImNsaWNrXCIsIHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgbGluay5kaXNwYXRjaEV2ZW50KGNsaWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFJlY29yZGVyO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBSZWNvcmRlcjtcclxuXHJcbn0se1wiaW5saW5lLXdvcmtlclwiOjN9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vaW5saW5lLXdvcmtlclwiKTtcclxufSx7XCIuL2lubGluZS13b3JrZXJcIjo0fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbiAgICAoZnVuY3Rpb24gKGdsb2JhbCl7XHJcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgICAgIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIga2V5IGluIHByb3BzKSB7IHZhciBwcm9wID0gcHJvcHNba2V5XTsgcHJvcC5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAocHJvcC52YWx1ZSkgcHJvcC53cml0YWJsZSA9IHRydWU7IH0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcyk7IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcclxuXHJcbiAgICAgICAgdmFyIF9jbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9O1xyXG5cclxuICAgICAgICB2YXIgV09SS0VSX0VOQUJMRUQgPSAhIShnbG9iYWwgPT09IGdsb2JhbC53aW5kb3cgJiYgZ2xvYmFsLlVSTCAmJiBnbG9iYWwuQmxvYiAmJiBnbG9iYWwuV29ya2VyKTtcclxuXHJcbiAgICAgICAgdmFyIElubGluZVdvcmtlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIElubGluZVdvcmtlcihmdW5jLCBzZWxmKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbmxpbmVXb3JrZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChXT1JLRVJfRU5BQkxFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmdW5jdGlvbkJvZHkgPSBmdW5jLnRvU3RyaW5nKCkudHJpbSgpLm1hdGNoKC9eZnVuY3Rpb25cXHMqXFx3KlxccypcXChbXFx3XFxzLF0qXFwpXFxzKnsoW1xcd1xcV10qPyl9JC8pWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBnbG9iYWwuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgZ2xvYmFsLkJsb2IoW2Z1bmN0aW9uQm9keV0sIHsgdHlwZTogXCJ0ZXh0L2phdmFzY3JpcHRcIiB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgZ2xvYmFsLldvcmtlcih1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZiA9IHNlbGY7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGYucG9zdE1lc3NhZ2UgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbm1lc3NhZ2UoeyBkYXRhOiBkYXRhIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jLmNhbGwoc2VsZik7XHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKElubGluZVdvcmtlciwge1xyXG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcG9zdE1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxmLm9ubWVzc2FnZSh7IGRhdGE6IGRhdGEgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gSW5saW5lV29ya2VyO1xyXG4gICAgICAgIH0pKCk7XHJcblxyXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gSW5saW5lV29ya2VyO1xyXG4gICAgfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXHJcbn0se31dfSx7fSxbMV0pKDEpXHJcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvcmVjb3JkZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZkE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFGQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQWJBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQURBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
/***/ (function(module, exports) {

eval("var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/MzY5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ })
/******/ ]);